<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Section 9: Sync and ASync</title>

</head>

<body>
<h1>Section 9: Sync and ASync</h1>

<script>
    /*
    const second = () => {
        setTimeout(() => {
        	console.log("This is time out function");
        }, 3000)
    };

    const first = () => {
    	console.log("Hay there");
    	second();
    	console.log("Hello!");
    };

    first();
    */

    /*
    const getIDs = new Promise((resolve, reject) => {
    	setTimeout(() => {
		    resolve([344, 234, 534, 324]);
        }, 1500);
    });

    const getRecipe = recID => {
        return new Promise((resolve, reject) => {
        	setTimeout(ID => {
        		const recipe = {title: "Fresh tomato pasta", publisher: 'Jonas'};
        		resolve(`${ID}: ${recipe.title}`);
            }, 1500, recID);
        })
    };

    const getRelated = publisher => {
        return new Promise((resolve, reject) => {
        	setTimeout(pub => {
        		const recipe = {title: 'Italian Pizza', publisher: 'Jonas'};
        		resolve(`${pub}: ${recipe.title}`);
            }, 1500, publisher);
        })
    };

    /*
    getIDs
    .then(IDs => {
        console.log(IDs);
        return getRecipe(IDs[1]);
    })
    .then(recipe => {
        console.log(recipe);
        return getRelated("Karthick");
    })
    .then(recipe => {
        console.log(recipe);
    })

    .catch(error => {
        console.log("error!");
    })
    */
    /*

    // Promises to Async/Await

    async function getRecipesAW() {
        const IDs = await getIDs;
        console.log(IDs);

        const recipe = await getRecipe(IDs[1]);
        console.log(recipe);

        const related = await getRelated("Jonas");
        console.log(related);

        return related;
    }
    getRecipesAW().then(result => console.log(`${result} is the best forever!`));
    */

    fetch('https://crossorigin.me/https://www.metaweather.com/api/location/2487956/')
    .then(result => {
    	console.log(result);
    	return result.json();
    })
        .then(data => {
        	console.log(data);
        })
    .catch(error => console.log(error));


</script>
</body>
</html>